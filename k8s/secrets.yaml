---
# IMPORTANT: This is a TEMPLATE file for secrets
# DO NOT commit real secrets to version control
#
# To create actual secrets, use one of these methods:
#
# Method 1: kubectl create secret
#   kubectl create secret generic llm-benchmark-secrets \
#     --from-literal=database-url='postgresql://user:pass@host:5432/db' \
#     --from-literal=jwt-secret='your-secret-key' \
#     --from-literal=aws-access-key-id='AKIAIOSFODNN7EXAMPLE' \
#     --from-literal=aws-secret-access-key='wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY' \
#     -n llm-benchmark
#
# Method 2: Using sealed-secrets or external-secrets
#   See: https://github.com/bitnami-labs/sealed-secrets
#   See: https://external-secrets.io/
#
# Method 3: Using a secret management system
#   - AWS Secrets Manager
#   - HashiCorp Vault
#   - Google Secret Manager
#   - Azure Key Vault

apiVersion: v1
kind: Secret
metadata:
  name: llm-benchmark-secrets
  namespace: llm-benchmark
  labels:
    app: llm-benchmark-exchange
type: Opaque
stringData:
  # Database credentials
  # Format: postgresql://user:password@host:port/database
  database-url: "postgresql://postgres:CHANGEME@postgres:5432/llm_benchmark_exchange"

  # Database password (separate for easier rotation)
  database-password: "CHANGEME"

  # JWT secret for token signing
  # Generate with: openssl rand -base64 32
  jwt-secret: "CHANGEME-GENERATE-SECURE-RANDOM-STRING"

  # AWS credentials for S3
  aws-access-key-id: "CHANGEME"
  aws-secret-access-key: "CHANGEME"

  # Redis password (if authentication enabled)
  redis-password: ""

  # API keys for external services
  openai-api-key: ""
  anthropic-api-key: ""

---
# Example: Sealed Secret (for GitOps workflows)
# Install sealed-secrets controller first:
# kubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/controller.yaml
#
# Then seal your secrets:
# kubectl create secret generic llm-benchmark-secrets \
#   --from-literal=database-url='postgresql://...' \
#   --dry-run=client -o yaml | \
#   kubeseal -o yaml > sealed-secret.yaml
#
# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: llm-benchmark-secrets
#   namespace: llm-benchmark
# spec:
#   encryptedData:
#     database-url: AgA...
#     jwt-secret: AgB...
#   template:
#     metadata:
#       labels:
#         app: llm-benchmark-exchange

---
# Example: External Secret (using external-secrets operator)
# Install operator first:
# helm repo add external-secrets https://charts.external-secrets.io
# helm install external-secrets external-secrets/external-secrets -n external-secrets-system --create-namespace
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: llm-benchmark-secrets
#   namespace: llm-benchmark
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: llm-benchmark-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: database-url
#     remoteRef:
#       key: llm-benchmark/database-url
#   - secretKey: jwt-secret
#     remoteRef:
#       key: llm-benchmark/jwt-secret
#   - secretKey: aws-access-key-id
#     remoteRef:
#       key: llm-benchmark/aws-access-key-id
#   - secretKey: aws-secret-access-key
#     remoteRef:
#       key: llm-benchmark/aws-secret-access-key
